@model MarketX.ViewModels.CategoryWithChosenCategory

    <li class="list-item">

        @if (Model.Category.Name == Model.ChosenCategoryName)
        {
            @if (Model.IsRequired)
            {
                <input required type="radio" checked name="chosenCategoryRadio" id="@Model.Category.Name" />
            }
            else
            {
                <input type="radio" checked name="chosenCategoryRadio" id="@Model.Category.Name" />
            }

        }
        else
        {
            @if (Model.IsRequired)
            {
                <input required type="radio" name="chosenCategoryRadio" id="@Model.Category.Name" />
            }
            else
            {
                <input type="radio" name="chosenCategoryRadio" id="@Model.Category.Name" />

            }
        }
        @if (Model.Category.ChildCategories.Any())
        {
            <a data-toggle="collapse" href="#category-@Model.Category.ID">
                @Model.Category.Name<i class="fa fa-chevron-right"></i>
            </a>
            <ul class="collapse pl-4 list-unstyled" id="category-@Model.Category.ID">
                @foreach (var category in Model.Category.ChildCategories)
                {
                    <partial name="/Views/Shared/Components/CategoryTree/_SubCategoryTree.cshtml" model="new MarketX.ViewModels.CategoryWithChosenCategory { Category = category, ChosenCategoryName = Model.ChosenCategoryName }" />
                }
            </ul>
        }
        else
        {
            @Model.Category.Name
        }
    </li>